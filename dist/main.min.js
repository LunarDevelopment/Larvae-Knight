!function(){"use strict";function e(){}e.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.game.device.desktop?this.game.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=640,this.game.scale.maxHeight=480,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0,this.game.scale.setScreenSize(!0)),this.game.state.start("preloader")}},window.larvaeknight=window.larvaeknight||{},window.larvaeknight.Boot=e}(),function(){"use strict";function e(){}var t,a,i=[];e.prototype={create:function(){var e=this;t=e.game.add.group(),t.enableBody=!0;var s=[];s[0]="water",s[1]="sand",s[2]="grass",s[3]="stone",s[4]="wood",s[5]="watersand",s[6]="grasssand",s[7]="sandstone",s[8]="bush1",s[9]="bush2",s[10]="mushroom",s[11]="wall",s[12]="window";for(var n,o=[9,2,1,1,4,4,1,6,2,10,2,2,6,1,0,4,4,0,0,2,2,2,6,1,0,0,4,4,0,0,8,8,2,0,0,0,0,4,4,0,0,0,9,2,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,11,11,12,11,3,3,11,12,11,11,11,3,7,3,3,3,3,3,3,7,3,3,7,1,7,7,3,3,7,7,1,1,7],r=32,d=0,h=r;h<=e.game.physics.isoArcade.bounds.frontY-r;h+=r)for(var g=r;g<=e.game.physics.isoArcade.bounds.frontX-r;g+=r)n=e.game.add.isoSprite(g,h,s[o[d]].match("water")?0:e.game.rnd.pick([2,3,4]),"tileset",s[o[d]],t),n.anchor.set(.5,1),n.smoothed=!1,n.body.moves=!1,4===o[d]&&(n.isoZ+=6),o[d]<=10&&(o[d]<5||o[d]>6)&&(n.scale.x=e.game.rnd.pick([-1,1])),0===o[d]&&i.push(n),d++;a=new Phaser.Plugin.Isometric.Point3},update:function(){var e=this;e.game.iso.unproject(e.game.input.activePointer.position,a),i.forEach(function(t){t.isoZ=-2*Math.sin(.004*(e.game.time.now+7*t.isoX))+-1*Math.sin(.005*(e.game.time.now+8*t.isoY)),t.alpha=Phaser.Math.clamp(1+.1*t.isoZ,.2,1)}),t.forEach(function(t){var s=t.isoBounds.containsXY(a.x,a.y);!t.selected&&s?(console.log(i),console.log(t),t.selected=!0,t.tint=8830938,e.game.add.tween(t).to({},200,Phaser.Easing.Quadratic.InOut,!0)):t.selected&&!s&&(t.selected=!1,t.tint=16777215,e.game.add.tween(t).to({},200,Phaser.Easing.Quadratic.InOut,!0))})},render:function(){var e=this;t.forEach(function(t){e.game.debug.body(t,"rgba(189, 221, 235, 0.6)",!1)}),e.game.debug.text("Move your mouse around!",2,36,"#ffffff"),e.game.debug.text(e.game.time.fps||"--",2,14,"#a7aebe")},onInputDown:function(){},spawnTiles:function(){for(var e,a=this,i=0;256>i;i+=38)for(var s=0;256>s;s+=38)e=a.game.add.isoSprite(i,s,0,"tile",0,t),e.anchor.set(.5,0)}},window.larvaeknight=window.larvaeknight||{},window.larvaeknight.Game=e}(),window.addEventListener("load",function(){"use strict";var e=window.larvaeknight,t=new Phaser.Game(640,480,Phaser.AUTO,"larvaeknight-game");t.state.add("boot",e.Boot),t.state.add("preloader",e.Preloader),t.state.add("menu",e.Menu),t.state.add("game",e.Game),t.state.start("boot")},!1),function(){"use strict";function e(){}e.prototype={create:function(){var e=this.add.text(.5*this.game.width,.5*this.game.height,"MENU",{font:"42px Arial",fill:"#ffffff",align:"center"});e.anchor.set(.5),this.input.onDown.add(this.onDown,this)},update:function(){},onDown:function(){this.game.state.start("game")}},window.larvaeknight=window.larvaeknight||{},window.larvaeknight.Menu=e}(),function(){"use strict";function e(){this.asset=null,this.ready=!1}e.prototype={preload:function(){this.asset=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader"),this.load.setPreloadSprite(this.asset),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources(),this.game.time.advancedTiming=!0,this.game.debug.renderShadow=!1,this.game.stage.disableVisibilityChange=!0,this.game.plugins.add(new Phaser.Plugin.Isometric(this.game)),this.game.physics.startSystem(Phaser.Plugin.Isometric.ISOARCADE),this.game.iso.anchor.setTo(.5,.2),this.ready=!0},loadResources:function(){this.game.load.atlasJSONHash("tileset","../assets/tileset.png","../assets/tileset.json"),this.game.load.image("tile","../assets/tile.png")},create:function(){},update:function(){this.game.state.start("menu")},onLoadComplete:function(){}},window.larvaeknight=window.larvaeknight||{},window.larvaeknight.Preloader=e}();